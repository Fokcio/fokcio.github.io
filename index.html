<!DOCTYPE html>
<html lang="pl">

<head>
    <link href="https://fonts.googleapis.com/css2?family=Cal+Sans:wght@400;700&display=swap" rel="stylesheet">
    <style>
        #gifOverlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            display: none;
        }

        #gifOverlay img {
            max-width: 80%;
            height: auto;
        }

        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            font-family: 'Cal Sans', sans-serif;
            background-color: black;
            flex-direction: column;
        }

        main {
            border: 3px solid rgb(119, 0, 255);
            padding: 10px;
            text-shadow: 1px 1px 5px rgba(0, 0, 0, 0.3);
            color: blueviolet;
            text-align: center;
            margin-bottom: 20px;
        }

        div#napis {
            font-size: 50px;
            filter: blur(2px);
        }

        button {
            font-family: 'Cal Sans', sans-serif;
            padding: 10px 20px;
            font-size: 20px;
            background-color: blueviolet;
            color: rgb(0, 0, 0);
            cursor: pointer;
            transition: background-color 0.3s;
        }

        button:hover {
            transform: scale(1.1);
            background-color: #8c1bff;
        }

        .fade {
            opacity: 0;
            transition: opacity 0.5s;
        }

        .show {
            opacity: 1;
            transition: opacity 0.5s;
        }

        #napis {
            transition: opacity 0.5s;
            opacity: 1;
        }

        #buttons {
            display: flex;
            gap: 10px;
        }

        h2 {
            color: blueviolet;
            font-family: 'Cal Sans', sans-serif;
            text-align: center;
            margin-top: 20px;
        }

        #karuzela {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
        }

        #karuzela img {
            width: 300px;
            height: auto;
            border: 2px solid blueviolet;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(137, 43, 226, 0.5);
            transition: opacity 0.5s;
        }

        #karuzela button {
            background-color: transparent;
            border: none;
            font-size: 40px;
            color: blueviolet;
            cursor: pointer;
            transition: transform 0.3s;
        }

        #karuzela button:hover {
            transform: scale(1.2);
        }
    </style>
    <title>Fokcio</title>
</head>

<body>
    <main>
        <div id="napis" class="show"></div>
    </main>

    <div id="buttons">
        <button>Bio</button>
        <button>Filmiki</button>
    </div>

    <h2>Moje Projekty</h2>

    <div id="karuzela">
        <button id="prev">&#8592;</button>
        <a id="obrazekLink" href="/PilkaNaRownowazni">
            <img id="obrazek" src="images/gra1.png" alt="Karuzela" />
        </a>

        <button id="next">&#8594;</button>
    </div>
    <div id="gif-scroll-container"></div>
    <div id="gifOverlay">
        <img id="funGif" src="https://media1.tenor.com/m/larrKhuDtGAAAAAd/fun-pet-pet-fun.gif" alt="Fun GIF">
    </div>

    <script>
        // Napisy zmieniające się na środku
        let napisy = [
            "Cześć, Jestem Fokcio",
            "To jest moja strona :D",
            "Cześć, Jestem Fokcio",
            "To jest moja strona :D",
            "Cześć, Jestem Fokcio",
            "To jest moja strona :D",
            "Dalej to czytasz?",
            "Czekasz na easteregga?",
            "umm rozumiem...",
            "przełącz aplikację lub kartę i wróć tutaj"
        ];

        let napisElement = document.getElementById("napis");
        let indexNapisu = 0;

        function zmienNapis() {
            napisElement.classList.remove("show");
            napisElement.classList.add("fade");

            setTimeout(() => {
                napisElement.innerText = napisy[indexNapisu];
                napisElement.classList.remove("show", "fade");
                napisElement.classList.add("fade");

                indexNapisu++;
                if (indexNapisu >= napisy.length) indexNapisu = 0;
            }, 500);
        }

        setInterval(zmienNapis, 2500);
        zmienNapis();

        // Sekwencja klawiszy
        const sekwencja = ['k', 'o', 't', 'e', 'l'];
        let aktualnaSekwencja = [];

        const gifOverlay = document.getElementById('gifOverlay');
        const gif = document.getElementById('funGif');

        document.addEventListener('keydown', function (e) {
            const key = e.key.toLowerCase();
            if (sekwencja.includes(key)) {
                aktualnaSekwencja.push(key);
                if (aktualnaSekwencja.toString() === sekwencja.toString()) {
                    // Pokaż GIF
                    gifOverlay.style.display = 'flex';

                    // Schowaj po określonym czasie
                    setTimeout(() => {
                        gifOverlay.style.display = 'none';
                    }, 2120); // <- dopasuj do długości gifa
                    aktualnaSekwencja = [];
                }
            } else {
                aktualnaSekwencja = [];
            }
        });

        // Animacja tytułu
        let tytuly = ["Fokcio", "Fokci", "Fokc", "Fok", "Fo", "F", "Fo", "Fok", "Fokc", "Fokci", "Fokcio"];
        let index = 0;
        let titleInterval;
        let pageVisibility = true;

        function startTitleAnimation() {
            titleInterval = setInterval(() => {
                if (pageVisibility) {
                    document.title = tytuly[index];
                    index++;
                    if (index >= tytuly.length) {
                        index = 0;
                    }
                }
            }, 500);
        }

        document.addEventListener('visibilitychange', function () {
            if (document.hidden) {
                pageVisibility = false;
                document.title = 'Wróć do kotka :D';
            } else {
                pageVisibility = true;
                document.title = tytuly[index]; // Przywraca animację tytułu

                // Pokazuje kotka (GIF) po powrocie na stronę
                gifOverlay.style.display = 'flex';
                setTimeout(() => {
                    gifOverlay.style.display = 'none';
                }, 2120); // dopasuj do długości gifa
            }
        });

        startTitleAnimation();

        // Przekierowania przycisków
        const elements = document.querySelectorAll('button, a');

        elements.forEach(element => {
            const text = element.textContent.trim();
            let redirectTo = '';

            if (text === 'Bio') {
                redirectTo = '/bio';
            } else if (text === 'Filmiki') {
                redirectTo = '/video';
            }

            if (redirectTo) {
                element.addEventListener('click', (event) => {
                    event.preventDefault();
                    window.location.href = redirectTo;
                });
            }
        });

        // Karuzela obrazków
        const obrazki = [
            { src: "images/gra1.png", href: "/PilkaNaRownowazni" }
            // Możesz dodać więcej:
            // { src: "images/gra2.png", href: "/InnaGra" }
        ];


        let aktualnyObrazek = 0;
        const obrazekElement = document.getElementById("obrazek");
        const prevButton = document.getElementById("prev");
        const nextButton = document.getElementById("next");

        function pokazObrazek(index) {
            const obrazekDane = obrazki[index];
            obrazekElement.style.opacity = 0;
            setTimeout(() => {
                obrazekElement.src = obrazekDane.src;
                obrazekLink.href = obrazekDane.href;
                obrazekElement.style.opacity = 1;
            }, 300);
        }


        prevButton.addEventListener("click", () => {
            aktualnyObrazek = (aktualnyObrazek - 1 + obrazki.length) % obrazki.length;
            pokazObrazek(aktualnyObrazek);
        });

        nextButton.addEventListener("click", () => {
            aktualnyObrazek = (aktualnyObrazek + 1) % obrazki.length;
            pokazObrazek(aktualnyObrazek);
        });

        // Pokaż pierwszy obrazek od razu
        pokazObrazek(aktualnyObrazek);

        const hackSekwencja = ['h', 'a', 'c', 'k'];
        let aktualnaHack = [];
        let hacked = false;

        const losowe = {
            kolor: () => '#' + Math.floor(Math.random() * 16777215).toString(16),
            font: () => ['Comic Sans MS', 'Courier New', 'Impact', 'Times New Roman', 'Papyrus', 'Verdana'][Math.floor(Math.random() * 6)],
            px: (min, max) => Math.floor(Math.random() * (max - min) + min) + 'px',
            deg: () => `rotate(${Math.floor(Math.random() * 360)}deg)`,
            gif: () => [
                'https://media.tenor.com/ZoRrzJ5czJYAAAAC/glitch.gif',
                'https://media.tenor.com/tEbo5U6aC3YAAAAC/hacked-glitch.gif',
                'https://media.tenor.com/oR9h8pjgJRoAAAAC/glitch.gif'
            ][Math.floor(Math.random() * 3)]
        };

        function glitchTytul() {
            const dots = '.'.repeat((Date.now() / 200) % 4);
            document.title = 'Fokcio Page Is Hacked ' + dots;
        }

        function glitchStrona() {
            document.body.style.background = `url(${losowe.gif()}) center center / cover no-repeat`;

            document.querySelectorAll('*').forEach(el => {
                el.style.fontFamily = losowe.font();
                el.style.color = losowe.kolor();
                el.style.backgroundColor = losowe.kolor();
                el.style.fontSize = losowe.px(12, 42);
                el.style.margin = losowe.px(0, 40);
                el.style.padding = losowe.px(0, 30);
                el.style.borderRadius = losowe.px(0, 30);
                el.style.transform = `translate(${losowe.px(-20, 20)}, ${losowe.px(-20, 20)}) ${losowe.deg()}`;
                el.style.boxShadow = `0 0 ${losowe.px(5, 50)} ${losowe.kolor()}`;
                el.style.transition = 'all 0.1s';
                el.style.animation = 'shake 0.2s infinite alternate';
            });
        }

        // Styl animacji "shake"
        const style = document.createElement('style');
        style.textContent = `
@keyframes shake {
    0% { transform: translate(1px, 1px) rotate(0deg); }
    25% { transform: translate(-1px, 2px) rotate(-1deg); }
    50% { transform: translate(-3px, 1px) rotate(1deg); }
    75% { transform: translate(1px, -2px) rotate(1deg); }
    100% { transform: translate(1px, 2px) rotate(-1deg); }
}
`;
        document.head.appendChild(style);

        // Nasłuch na słowo "hack"
        document.addEventListener('keydown', function (e) {
            const key = e.key.toLowerCase();
            aktualnaHack.push(key);
            if (aktualnaHack.slice(-4).toString() === hackSekwencja.toString()) {
                if (!hacked) {
                    hacked = true;
                    setInterval(glitchStrona, 200);
                    setInterval(glitchTytul, 200);
                }
            }
            if (aktualnaHack.length > 4) aktualnaHack.shift();
        });

const container = document.getElementById("gif-scroll-container");
const totalFrames = 23;
let currentFrame = 1;

function createFrame(index) {
    const img = document.createElement("img");
    img.src = `frames/frame (${index}).gif`; // nawiasy uwzględnione
    img.style.width = "100%";
    img.style.display = "block";
    img.loading = "lazy"; // optymalizacja
    return img;
}

function loadFrames(count = 5) {
    for (let i = 0; i < count; i++) {
        container.appendChild(createFrame(currentFrame));
        currentFrame++;
        if (currentFrame > totalFrames) currentFrame = 1; // zapętlenie
    }
}

window.addEventListener("scroll", () => {
    const scrollBottom = window.scrollY + window.innerHeight;
    const docHeight = document.documentElement.scrollHeight;

    if (scrollBottom + 100 > docHeight) {
        loadFrames();
    }
});

loadFrames(10); // ładowanie początkowych klatek

    </script>
</body>

</html>
